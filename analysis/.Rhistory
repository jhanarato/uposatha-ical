library(tidyverse)
library(lubridate)
events <- read_csv("events.csv")
events %>% head(10)
?read_csv
events <- read_csv("events.csv", col_names = c("event", "date"))
events %>% head(10)
events %>%
summarise(
start = min(date),
end = max(date)
)
events %>% count(summary)
events %>% count(event)
events %>% count(event, sort = TRUE)
library(tidyverse)
library(lubridate)
events <- read_csv("events.csv", col_names = c("event", "date"))
date_range <- events %>%
summarise(
start = min(date),
end = max(date)
)
events <- read_csv("events.csv", col_names = c("summary_text", "date"))
events %>% head(10)
date_range <- events %>%
summarise(
start = min(date),
end = max(date)
)
events %>% count(event, sort = TRUE)
events %>% count(summary_text, sort = TRUE)
events %>%
group_by(date) %>%
summarise(
n = n()
)
events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
events %>% semi_join(multiple_summaries, on = "date")
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, on = "date")
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, on = "date")
knit::kable(multi_events)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, on = "date")
knitr::kable(multi_events)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
knitr::kable(multi_events)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
arrange(date, summary_text) %>%
knitr::kable()
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
select(date, summary_text) %>%
knitr::kable()
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable()
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp(date, "1st Jan 2000") )
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp(date, "1 Jan 2000") )
?stamp
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp(date, "1 Jan 2000")) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp("1 Jan 2000")(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp("1 Jan 2000", orders = "%d %b %Y")(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp_date("1 Jan 2000")(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = format(date, "%d %h %Y")) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n == 3)
three_summary_events <- events %>%
semi_join(multiple_summaries, by = "date")
three_summary_events %>%
mutate(date = format(date, "%d %h %Y")) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n == 3)
three_summary_events <- events %>%
semi_join(multiple_summaries, by = "date")
three_summary_events %>%
mutate(date = format(date, "%d %h %Y")) %>%
select(date, summary_text) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
library(tidyverse)
library(lubridate)
events <- read_csv("events.csv", col_names = c("summary_text", "date"))
events %>% head(10)
date_range <- events %>%
summarise(
start = min(date),
end = max(date)
)
events %>% count(summary_text, sort = TRUE)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = format(date, "%d %h %Y")) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n == 3)
three_summary_events <- events %>%
semi_join(multiple_summaries, by = "date")
three_summary_events %>%
mutate(date = format(date, "%d %h %Y")) %>%
select(date, summary_text) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
waning_waxing <- events %>%
filter(summary_text %in% c("Waxing Moon", "Waning Moon"))
View(waning_waxing)
waning_waxing <- events %>%
filter(summary_text %in% c("Waxing Moon", "Waning Moon"))
events %>% semi_join(waxing_waning, by = "date")
waning_waxing <- events %>%
filter(summary_text %in% c("Waxing Moon", "Waning Moon"))
events %>% semi_join(waning_waxing, by = "date")
waning_waxing <- events %>%
filter(summary_text %in% c("Waxing Moon", "Waning Moon"))
events %>%
semi_join(waning_waxing, by = "date") %>%
group_by(date) %>%
summarise(
n = n()
)
waning_waxing <- events %>%
filter(summary_text %in% c("Waxing Moon", "Waning Moon"))
events %>%
semi_join(waning_waxing, by = "date") %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
special <- events %>%
filter(summary_text %notin% c("Waxing Moon", "Waning Moon"))
special <- events %>%
filter(summary_text %!in% c("Waxing Moon", "Waning Moon"))
special <- events %>%
filter(!(summary_text %!in% c("Waxing Moon", "Waning Moon"))
special <- events %>%
filter(!(summary_text %in% c("Waxing Moon", "Waning Moon"))
special <- events %>%
filter(!(summary_text %in% c("Waxing Moon", "Waning Moon")))
View(special)
special <- events %>%
filter(str_detect(summary_text, "Moon"))
View(special)
special <- events %>%
filter(str_detect(summary_text, "Moon"))
special %>% count(summary_text)
special <- events %>%
anti_join(ordinary, by = "summary_text")
ordinary <- events %>%
filter(str_detect(summary_text, "Moon"))
ordinary %>% count(summary_text)
special <- events %>%
anti_join(ordinary, by = "summary_text")
View(special)
special <- events %>%
anti_join(ordinary, by = "summary_text")
special %>% count(summary_text)
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp(date, "1 Jan 2022")) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp(date, "1 Jan 2022")(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp("1 Jan 2022")(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
multiple_summaries <- events %>%
group_by(date) %>%
summarise(
n = n()
) %>%
filter(n > 1)
multi_events <- events %>%
semi_join(multiple_summaries, by = "date")
multi_events %>%
mutate(date = stamp("1 Jan 2022", quiet = TRUE)(date)) %>%
select(date, summary_text) %>%
head(30) %>%
knitr::kable(col.names = c("Date", "Summary Text"))
special <- events %>%
anti_join(ordinary, by = "summary_text") %>%
filter(!(str_detect(summary_text, "Vassa")))
special %>% count(summary_text)
events %>% semi_join(special, by = "date")
concurent_with_special <- events %>% semi_join(special, by = "date")
View(concurent_with_special)
concurent_with_special <- events %>% semi_join(special, by = "date")
concurent_with_special %>% count(summary_text)
concurent_with_special <- events %>%
semi_join(special, by = "date") %>%
filter(!str_detect(summary_text, "Vassa"))
concurent_with_special %>% count(summary_text)
vassa_days <- events %>% filter(str_detect(summary_text, "Vassa"))
View(vassa_days)
View(vassa_days)
vassa_days <- events %>% filter(str_detect(summary_text, "Vassa"))
same_day_as_vassa_days <- events %>% semi_join(vassa_days, by = "date")
View(same_day_as_vassa_days)
vassa_days <- events %>% filter(str_detect(summary_text, "Vassa"))
same_day_as_vassa_days <- events %>% semi_join(vassa_days, by = "date")
same_day_as_vassa_days %>% count(date)
vassa_days <- events %>% filter(str_detect(summary_text, "Vassa"))
same_day_as_vassa_days <- events %>% semi_join(vassa_days, by = "date")
same_day_as_vassa_days %>% count(summary_text)
first_day_of_vassa <- events %>% filter(summary_text == "First day of Vassa")
View(first_day_of_vassa)
first_day_of_vassa <- events %>% filter(summary_text == "First day of Vassa")
same_as_first_day_of_vassa <- events %>% semi_join(first_day_of_vassa, by = "date")
View(same_day_as_vassa_days)
View(same_day_as_vassa_days)
View(same_as_first_day_of_vassa)
first_day_of_vassa <- events %>% filter(summary_text == "First day of Vassa")
same_as_first_day_of_vassa <- events %>% semi_join(first_day_of_vassa, by = "date")
same_as_first_day_of_vassa %>% count(summary_text)
View(events)
